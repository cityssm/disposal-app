(function(){function e(b){b&&(b.preventDefault(),d.innerHTML="");b=window.location.hash.substring(1);f.innerHTML='<p class="center text-muted">Loading item... <i class="fas fa-spinner fa-pulse"></i></p>';nanoajax.ajax({url:"data/itemJSON.asp?k="+encodeURIComponent(b),responseType:"json"},function(b,a){f.innerHTML=a.success?'<h1 class="h1 pb1 border-bottom">'+a.itemName+'</h1><div class="clearfix">'+(""===a.pictureURL?"":'<img class="right" src="item-img/'+a.pictureURL+'" alt="'+a.itemName+'" />')+
"<p>"+a.shortDescription+"</p>"+(""===a.longDescription?"":"<p>"+a.longDescription+"</p>")+'</div><h2 class="pb1 border-bottom">Locations</h2>'+a.locations.reduce(function(a,b){return a+"<h3>"+b.locationName+"</h3><p>"+b.shortDescription+"</p>"},""):'<div class="alert alert-info">'+a.message+"</div>"},"json")}var c=document.getElementById("searchStr"),d=document.getElementById("container--searchResults");c.addEventListener("keyup",function(){""===c.value.trim()?d.innerHTML="":(d.innerHTML='<div class="search-result center">Searching... <i class="fas fa-pulse fa-spinner" aria-hidden="true"></i></div>',
nanoajax.ajax({url:"data/itemsJSON.asp?q="+encodeURIComponent(c.value),responseType:"json"},function(b,c){d.innerHTML=0===c.items.length?'<div class="search-result center">Your search returned no results.</div>':'<ul class="list-reset">'+c.items.reduce(function(a,b){return a+('<li><a class="block" href="#'+b.itemKey+'">'+b.itemName+"<br /><small>"+b.shortDescription+"</small></a></li>")},"")+"</ul>"},"json"))});var f=document.getElementById("container--item");window.addEventListener("hashchange",
e);window.location.hash&&e()})();
