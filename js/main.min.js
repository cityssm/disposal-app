(function(){function f(b){b&&(b.preventDefault(),e.innerHTML="");b=window.location.hash.substring(1);g.innerHTML='<p class="center text-muted">Loading item... <i class="fas fa-spinner fa-pulse"></i></p>';nanoajax.ajax({url:"data/itemJSON.asp?k="+encodeURIComponent(b),responseType:"json"},function(b,a){g.innerHTML=a.success?'<h1 class="h1 pb1 border-bottom">'+a.itemName+'</h1><div class="clearfix px1">'+(""===a.pictureURL?"":'<img class="right fit" src="item-img/'+a.pictureURL+'" alt="'+a.itemName+
'" />')+"<p>"+a.shortDescription+"</p>"+(""===a.longDescription?"":"<p>"+a.longDescription+"</p>")+'</div><h2 class="pb1 border-bottom">Locations</h2><div class="clearfix">'+a.locations.reduce(function(a,c){return a+'<div class="col px1 md-col-6"><h3>'+c.locationName+"</h3><p>"+c.shortDescription+"</p><p>"+c.longDescription+"</p>"+(""===c.address?"":'<p class="bold"><i class="fas fa-fw fa-location-arrow"></i> '+c.address+"</p>")+(""===c.websiteURL?"":'<p><i class="fas fa-fw fa-link"></i> <a class="bold" href="'+
c.websiteURL+'" target="_blank">Visit '+c.locationName+" Website</a></p>")+"</div>"},"")+"</div>":'<div class="alert alert-info">'+a.message+"</div>"},"json")}var d=document.getElementById("searchStr"),e=document.getElementById("container--searchResults");d.addEventListener("keyup",function(){""===d.value.trim()?e.innerHTML="":(e.innerHTML='<div class="search-result center">Searching... <i class="fas fa-pulse fa-spinner" aria-hidden="true"></i></div>',nanoajax.ajax({url:"data/itemsJSON.asp?q="+encodeURIComponent(d.value),
responseType:"json"},function(b,d){e.innerHTML=0===d.items.length?'<div class="search-result center">Your search returned no results.</div>':'<ul class="list-reset">'+d.items.reduce(function(a,b){return a+('<li><a class="block" href="#'+b.itemKey+'">'+b.itemName+"<br /><small>"+b.shortDescription+"</small></a></li>")},"")+"</ul>"},"json"))});var g=document.getElementById("container--item");window.addEventListener("hashchange",f);window.location.hash&&f()})();
