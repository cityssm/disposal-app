(function(){function e(){d.innerHTML=""}function f(){""===a.value.trim()?d.innerHTML="":(d.innerHTML='<div class="center">Searching... <i class="fas fa-pulse fa-spinner" aria-hidden="true"></i></div>',nanoajax.ajax({url:"data/itemsJSON.asp?q="+encodeURIComponent(a.value),responseType:"json"},function(k,a){if(0===a.items.length)d.innerHTML='<div class="center">Your search returned no results.</div>';else{d.innerHTML=a.items.reduce(function(b,c,a){return 9<=a?b:b+('<div class="sm-col sm-col-4 search-result"><a class="block border m1" href="#'+
c.itemKey+'"><span class="p1">'+c.itemName+'</span><div class="image-wrapper"><div class="image"'+(""===c.pictureURL?"":" style=\"background-image:url('item-img/"+c.pictureURL+"');\"")+"></div></div></a></div>")},"");var b=d.getElementsByTagName("a"),c;for(c=0;c<b.length;c+=1)b[c].addEventListener("click",e)}},"json"))}function g(a){a&&(a.preventDefault(),e());a=window.location.hash.substring(1);h.innerHTML='<p class="center text-muted">Loading item... <i class="fas fa-spinner fa-pulse"></i></p>';
nanoajax.ajax({url:"data/itemJSON.asp?k="+encodeURIComponent(a),responseType:"json"},function(a,b){h.innerHTML=b.success?'<h1 class="h1 pb1 border-bottom">'+b.itemName+'</h1><div class="clearfix px1">'+(""===b.pictureURL?"":'<img class="right fit" src="item-img/'+b.pictureURL+'" alt="'+b.itemName+'" />')+"<p>"+b.shortDescription+"</p>"+(""===b.longDescription?"":"<p>"+b.longDescription+"</p>")+"</div>"+(0===b.reuseIdeas.length?"":'<h2 class="pb1 border-bottom"><i class="fas fa-recycle" aria-hidden="true"></i> Reuse Ideas</h2>'+
b.reuseIdeas.reduce(function(b,a){return b+('<div class="clearfix px1 border"><div class="left p2 mr1"><i class="far fa-2x fa-lightbulb" aria-hidden="true"></i></div><h3>'+a.ideaName+"</h3><p>"+a.ideaDescription+"</p>"+(""===a.websiteURL?"":'<p><i class="fas fa-fw fa-link"></i> <a class="bold" href="'+a.websiteURL+'" target="_blank">More Information on this Idea</a></p>')+"</div>")},"")+"")+(0===b.locations.length?"":'<h2 class="pb1 border-bottom">Locations</h2>'+b.locations.reduce(function(b,a){return b+
'<div class="clearfix px2 mb1 border"><h3>'+a.locationName+"</h3>"+('<div class="col md-col-6"><p>'+a.shortDescription+"</p><p>"+a.longDescription+"</p></div>")+'<div class="col md-col-1">&nbsp;</div>'+('<div class="col md-col-5">'+(""===a.address?"":'<p class="bold"><i class="fas fa-fw fa-location-arrow"></i> '+a.address+"</p>")+(""===a.websiteURL?"":'<p><i class="fas fa-fw fa-link"></i> <a class="bold" href="'+a.websiteURL+'" target="_blank">Visit '+a.locationName+" Website</a></p>")+"</div>")+
"</div>"},"")):'<div class="alert alert-info">'+b.message+"</div>"},"json")}var a=document.getElementById("searchStr"),d=document.getElementById("container--searchResults");a.addEventListener("keyup",f);a.addEventListener("focus",f);var h=document.getElementById("container--item");window.addEventListener("hashchange",g);window.location.hash&&g()})();
