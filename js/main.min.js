(function(){function g(c){return'<div class="sm-col sm-col-4 search-result"><a class="block border m1" href="#'+c.itemKey+'"><span class="p1">'+c.itemName+'</span><div class="image-wrapper"><div class="image"'+(""===c.pictureURL?"":" style=\"background-image:url('item-img/"+c.pictureURL+"');\"")+"></div></div></a></div>"}function h(){e.innerHTML=""}function k(){""===d.value.trim()?e.innerHTML="":(e.innerHTML='<div class="center">Searching... <i class="fas fa-pulse fa-spinner" aria-hidden="true"></i></div>',
nanoajax.ajax({url:"data/itemsJSON.asp?q="+encodeURIComponent(d.value),responseType:"json"},function(c,d){if(0===d.items.length)e.innerHTML='<div class="center">Your search returned no results.</div>';else{e.innerHTML=d.items.reduce(function(b,a,c){return 9<=c?b:b+g(a)},"");var a=e.getElementsByTagName("a"),f;for(f=0;f<a.length;f+=1)a[f].addEventListener("click",h)}},"json"))}function l(c){c&&(c.preventDefault(),h());c=window.location.hash.substring(1);m.innerHTML='<p class="center text-muted">Loading item... <i class="fas fa-spinner fa-pulse"></i></p>';
nanoajax.ajax({url:"data/itemJSON.asp?k="+encodeURIComponent(c),responseType:"json"},function(c,a){m.innerHTML=a.success?'<h1 class="h1 pb1 border-bottom">'+a.itemName+'</h1><div class="clearfix">'+(""===a.pictureURL?"":'<img class="right fit" src="item-img/'+a.pictureURL+'" alt="'+a.itemName+'" />')+"<p>"+a.shortDescription+"</p>"+(""===a.longDescription?"":"<p>"+a.longDescription+"</p>")+"</div>"+(0===a.reuseIdeas.length?"":'<h2 class="pb1 border-bottom"><i class="fas fa-recycle" aria-hidden="true"></i> Reuse Ideas</h2>'+
a.reuseIdeas.reduce(function(a,b){return a+('<div class="flex px2 mb1 border"><div class="py2 pr2"><i class="far fa-2x fa-lightbulb" aria-hidden="true"></i></div>'+('<div class="flex-auto"><h3>'+b.ideaName+"</h3><p>"+b.ideaDescription+"</p>"+(""===b.websiteURL?"":'<p><i class="fas fa-fw fa-link"></i> <a class="bold" href="'+b.websiteURL+'" target="_blank">More Information on this Idea</a></p>')+"</div>")+"</div>")},""))+(0===a.locations.length?"":'<h2 class="pb1 border-bottom">Locations</h2><p>Remember that some locations may have specific hours when they accept items. If you are unfamiliar with the business or organization, consider visiting their website or calling ahead first.</p>'+
a.locations.reduce(function(a,b){return a+'<div class="clearfix px2 mb1 border"><h3>'+b.locationName+"</h3>"+('<div class="col md-col-6"><p>'+b.shortDescription+"</p><p>"+b.longDescription+"</p></div>")+'<div class="col md-col-1">&nbsp;</div>'+('<div class="col md-col-5">'+(""===b.address?"":'<p class="bold"><i class="fas fa-fw fa-location-arrow"></i> '+b.address+"</p>")+(""===b.phoneNumber?"":'<p class="bold"><i class="fas fa-fw fa-phone"></i> '+b.phoneNumber+"</p>")+(""===b.websiteURL?"":'<p><i class="fas fa-fw fa-link"></i> <a class="bold" href="'+
b.websiteURL+'" target="_blank">Visit '+b.locationName+" Website</a></p>")+"</div>")+"</div>"},""))+(0===a.relatedItems.length?"":'<h2 class="pb1 border-bottom">Related Items</h2><div class="clearfix">'+a.relatedItems.reduce(function(a,b){return a+g(b)},"")+"</div>"):'<div class="alert alert-info">'+a.message+"</div>"},"json")}var d=document.getElementById("searchStr"),e=document.getElementById("container--searchResults");d.addEventListener("keyup",k);d.addEventListener("focus",k);var m=document.getElementById("container--item");
window.addEventListener("hashchange",l);window.location.hash&&l()})();
