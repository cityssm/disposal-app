(function(){function f(){d.innerHTML=""}function g(){""===c.value.trim()?d.innerHTML="":(d.innerHTML='<div class="center">Searching... <i class="fas fa-pulse fa-spinner" aria-hidden="true"></i></div>',nanoajax.ajax({url:"data/itemsJSON.asp?q="+encodeURIComponent(c.value),responseType:"json"},function(l,c){if(0===c.items.length)d.innerHTML='<div class="center">Your search returned no results.</div>';else{d.innerHTML=c.items.reduce(function(b,a,e){return 9<=e?b:b+('<div class="sm-col sm-col-4 search-result"><a class="block border m1" href="#'+
a.itemKey+'"><span class="p1">'+a.itemName+'</span><div class="image-wrapper"><div class="image"'+(""===a.pictureURL?"":" style=\"background-image:url('item-img/"+a.pictureURL+"');\"")+"></div></div></a></div>")},"");var a=d.getElementsByTagName("a"),e;for(e=0;e<a.length;e+=1)a[e].addEventListener("click",f)}},"json"))}function h(c){c&&(c.preventDefault(),f());c=window.location.hash.substring(1);k.innerHTML='<p class="center text-muted">Loading item... <i class="fas fa-spinner fa-pulse"></i></p>';
nanoajax.ajax({url:"data/itemJSON.asp?k="+encodeURIComponent(c),responseType:"json"},function(c,a){k.innerHTML=a.success?'<h1 class="h1 pb1 border-bottom">'+a.itemName+'</h1><div class="clearfix">'+(""===a.pictureURL?"":'<img class="right fit" src="item-img/'+a.pictureURL+'" alt="'+a.itemName+'" />')+"<p>"+a.shortDescription+"</p>"+(""===a.longDescription?"":"<p>"+a.longDescription+"</p>")+"</div>"+(0===a.reuseIdeas.length?"":'<h2 class="pb1 border-bottom"><i class="fas fa-recycle" aria-hidden="true"></i> Reuse Ideas</h2>'+
a.reuseIdeas.reduce(function(a,b){return a+('<div class="clearfix px1 border"><div class="left p2 mr1"><i class="far fa-2x fa-lightbulb" aria-hidden="true"></i></div><h3>'+b.ideaName+"</h3><p>"+b.ideaDescription+"</p>"+(""===b.websiteURL?"":'<p><i class="fas fa-fw fa-link"></i> <a class="bold" href="'+b.websiteURL+'" target="_blank">More Information on this Idea</a></p>')+"</div>")},"")+"")+(0===a.locations.length?"":'<h2 class="pb1 border-bottom">Locations</h2><p>Remember that some locations may have specific hours when they accept items. If you are unfamiliar with the business or organization, consider visiting their website or calling ahead first.</p>'+
a.locations.reduce(function(a,b){return a+'<div class="clearfix px2 mb1 border"><h3>'+b.locationName+"</h3>"+('<div class="col md-col-6"><p>'+b.shortDescription+"</p><p>"+b.longDescription+"</p></div>")+'<div class="col md-col-1">&nbsp;</div>'+('<div class="col md-col-5">'+(""===b.address?"":'<p class="bold"><i class="fas fa-fw fa-location-arrow"></i> '+b.address+"</p>")+(""===b.phoneNumber?"":'<p class="bold"><i class="fas fa-fw fa-phone"></i> '+b.phoneNumber+"</p>")+(""===b.websiteURL?"":'<p><i class="fas fa-fw fa-link"></i> <a class="bold" href="'+
b.websiteURL+'" target="_blank">Visit '+b.locationName+" Website</a></p>")+"</div>")+"</div>"},"")):'<div class="alert alert-info">'+a.message+"</div>"},"json")}var c=document.getElementById("searchStr"),d=document.getElementById("container--searchResults");c.addEventListener("keyup",g);c.addEventListener("focus",g);var k=document.getElementById("container--item");window.addEventListener("hashchange",h);window.location.hash&&h()})();
